{"remainingRequest":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yukang/Desktop/Django-2.2.5/testdj/hello/src/components/Show_users.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/src/components/Show_users.vue","mtime":1574868986289},{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmZ1bmN0aW9uIHRvX3R5cGUoYSkgewogIGlmIChhID09PSAwKQogICAgcmV0dXJuICLnrqHnkIblkZgiCiAgZWxzZSBpZiAoYSA9PT0gMSkKICAgIHJldHVybiAi56S+5Lqk5bmz5Y+wIgogIGVsc2UKICAgIHJldHVybiAi5bm/5ZGK5Li7Igp9CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoOiAnJywKICAgICAgY3VycmVudFBhZ2U6IDEsIC8v5Yid5aeL6aG1CiAgICAgIHBhZ2VzaXplOjEwLAogICAgICB0YWJsZURhdGE6IFtdCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVTaXplQ2hhbmdlOiBmdW5jdGlvbiAoc2l6ZSkgewogICAgICAgICAgICB0aGlzLnBhZ2VzaXplID0gc2l6ZTsKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5wYWdlc2l6ZSkgIC8v5q+P6aG15LiL5ouJ5pi+56S65pWw5o2uCiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24oY3VycmVudFBhZ2UpewogICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gY3VycmVudFBhZ2U7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY3VycmVudFBhZ2UpICAvL+eCueWHu+esrOWHoOmhtQogICAgfSwKICAgIHJvd0NsYXNzICgpIHsKICAgICAgcmV0dXJuICd0ZXh0LWFsaWduOiBjZW50ZXI7JwogICAgfSwKICAgIHNob3cocm93KSB7CiAgICAgIGNvbnNvbGUubG9nKHJvdykKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICB0YWJsZXMgKCkgewogICAgICBjb25zdCBzZWFyY2ggPSB0aGlzLnNlYXJjaAogICAgICBpZiAoc2VhcmNoKSB7CiAgICAgICAgLy8gZmlsdGVyKCkg5pa55rOV5Yib5bu65LiA5Liq5paw55qE5pWw57uE77yM5paw5pWw57uE5Lit55qE5YWD57Sg5piv6YCa6L+H5qOA5p+l5oyH5a6a5pWw57uE5Lit56ym5ZCI5p2h5Lu255qE5omA5pyJ5YWD57Sg44CCCiAgICAgICAgLy8g5rOo5oSP77yaIGZpbHRlcigpIOS4jeS8muWvueepuuaVsOe7hOi/m+ihjOajgOa1i+OAggogICAgICAgIC8vIOazqOaEj++8miBmaWx0ZXIoKSDkuI3kvJrmlLnlj5jljp/lp4vmlbDnu4TjgIIKICAgICAgICByZXR1cm4gdGhpcy50YWJsZURhdGEuZmlsdGVyKGRhdGEgPT4gewogICAgICAgICAgLy8gc29tZSgpIOaWueazleeUqOS6juajgOa1i+aVsOe7hOS4reeahOWFg+e0oOaYr+WQpua7oei2s+aMh+WumuadoeS7tjsKICAgICAgICAgIC8vIHNvbWUoKSDmlrnms5XkvJrkvp3mrKHmiafooYzmlbDnu4TnmoTmr4/kuKrlhYPntKDvvJoKICAgICAgICAgIC8vIOWmguaenOacieS4gOS4quWFg+e0oOa7oei2s+adoeS7tu+8jOWImeihqOi+vuW8j+i/lOWbnnRydWUgLCDliankvZnnmoTlhYPntKDkuI3kvJrlho3miafooYzmo4DmtYs7CiAgICAgICAgICAvLyDlpoLmnpzmsqHmnInmu6HotrPmnaHku7bnmoTlhYPntKDvvIzliJnov5Tlm55mYWxzZeOAggogICAgICAgICAgLy8g5rOo5oSP77yaIHNvbWUoKSDkuI3kvJrlr7nnqbrmlbDnu4Tov5vooYzmo4DmtYvjgIIKICAgICAgICAgIC8vIOazqOaEj++8miBzb21lKCkg5LiN5Lya5pS55Y+Y5Y6f5aeL5pWw57uE44CCCiAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoZGF0YSkuc29tZShrZXkgPT4gewogICAgICAgICAgICAvLyBpbmRleE9mKCkg6L+U5Zue5p+Q5Liq5oyH5a6a55qE5a2X56ym5Zyo5p+Q5Liq5a2X56ym5Liy5Lit6aaW5qyh5Ye6546w55qE5L2N572u77yM5aaC5p6c5rKh5pyJ5om+5Yiw5bCx6L+U5ZueLTHvvJsKICAgICAgICAgICAgLy8g6K+l5pa55rOV5a+55aSn5bCP5YaZ5pWP5oSf77yB5omA5Lul5LmL5YmN6ZyA6KaBdG9Mb3dlckNhc2UoKeaWueazleWwhuaJgOacieafpeivouWIsOWGheWuueWPmOS4uuWwj+WGmeOAggogICAgICAgICAgICByZXR1cm4gU3RyaW5nKGRhdGFba2V5XSkudG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlYXJjaCkgPiAtMQogICAgICAgICAgfSkKICAgICAgICB9KQogICAgICB9CiAgICAgIHJldHVybiB0aGlzLnRhYmxlRGF0YQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIGxldCBfX3RoaXMgPSB0aGlzCiAgICB0aGlzLiRodHRwCiAgICAucG9zdCgnL3Nob3dfdXNlcnMnKQogICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgcmVzcG9uc2UuZGF0YVsnbGlzdCddLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBfX3RoaXMudGFibGVEYXRhLnB1c2goe2lkOiBpdGVtWydwayddLCBlbWFpbDogaXRlbVsnZmllbGRzJ11bJ2VtYWlsJ10sCiAgICAgICAgICB0eXBlOiB0b190eXBlKGl0ZW1bJ2ZpZWxkcyddWyd0eXBlJ10pLCBjb21wYW55OiBpdGVtWydmaWVsZHMnXVsnY29tcGFueSddfSkKICAgICAgfSkKICAgIH0pCiAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7IC8vIOivt+axguWksei0peWkhOeQhgogICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICB9KTsKICB9Cn0K"},{"version":3,"sources":["Show_users.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Show_users.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div style=\"margin:0px auto; margin-top: 30px\">\n    <el-input v-model=\"search\" style=\"display: inline-block;width: 100%\" \n        placeholder=\"请输入搜索内容\">\n    </el-input>\n    <el-table\n      :data=\"tables.slice((currentPage-1)*pagesize,currentPage*pagesize)\"\n      :cell-style=\"rowClass\"\n      :header-cell-style=\"rowClass\"\n      style=\"width: 100%; text-align: center\">\n      <el-table-column\n        prop=\"id\"\n        label='id'\n        sortable\n        width=\"80\">\n      </el-table-column>\n      <el-table-column\n        prop=\"email\"\n        label=\"邮箱\"\n        width=\"250\">\n      </el-table-column>\n      <el-table-column\n        prop=\"type\"\n        label=\"类别\"\n        sortable\n        width=\"180\">\n      </el-table-column>\n      <el-table-column\n        prop=\"company\"\n        label=\"公司\"\n        sortable\n        width=\"220\">\n      </el-table-column>\n      <el-table-column\n      fixed=\"right\"\n      label=\"操作\"\n      width=\"220\">\n      <template slot-scope=\"scope\">\n        <el-popover placement=\"top-start\" style=\"margin-right: 20px\" width=\"400\">\n          <span style=\"backgroud-color: #FFFFFF\">{{scope.row['text']}}</span>\n          <el-button slot=\"reference\" type=\"text\" size=\"medium\">查看</el-button>\n        </el-popover>\n        <el-button @click=\"delete(scope.row)\" type=\"text\" size=\"medium\">删除</el-button>\n      </template>\n    </el-table-column>\n    </el-table>\n    <el-pagination\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n            :current-page=\"currentPage\"\n            :page-sizes=\"[5, 10, 20, 40]\" \n            :page-size=\"pagesize\"        \n            layout=\"total, sizes, prev, pager, next, jumper\"\n            :total=\"tableData.length\"\n            style=\"float: right; margin-top: 15px\">\n      </el-pagination>\n  </div>\n  </template>\n\n  <script>\n    function to_type(a) {\n      if (a === 0)\n        return \"管理员\"\n      else if (a === 1)\n        return \"社交平台\"\n      else\n        return \"广告主\"\n    }\n    export default {\n      data() {\n        return {\n          search: '',\n          currentPage: 1, //初始页\n          pagesize:10,\n          tableData: []\n        }\n      },\n      methods: {\n        handleSizeChange: function (size) {\n                this.pagesize = size;\n                console.log(this.pagesize)  //每页下拉显示数据\n        },\n        handleCurrentChange: function(currentPage){\n                this.currentPage = currentPage;\n                console.log(this.currentPage)  //点击第几页\n        },\n        rowClass () {\n          return 'text-align: center;'\n        },\n        show(row) {\n          console.log(row)\n        }\n      },\n      computed: {\n        tables () {\n          const search = this.search\n          if (search) {\n            // filter() 方法创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素。\n            // 注意： filter() 不会对空数组进行检测。\n            // 注意： filter() 不会改变原始数组。\n            return this.tableData.filter(data => {\n              // some() 方法用于检测数组中的元素是否满足指定条件;\n              // some() 方法会依次执行数组的每个元素：\n              // 如果有一个元素满足条件，则表达式返回true , 剩余的元素不会再执行检测;\n              // 如果没有满足条件的元素，则返回false。\n              // 注意： some() 不会对空数组进行检测。\n              // 注意： some() 不会改变原始数组。\n              return Object.keys(data).some(key => {\n                // indexOf() 返回某个指定的字符在某个字符串中首次出现的位置，如果没有找到就返回-1；\n                // 该方法对大小写敏感！所以之前需要toLowerCase()方法将所有查询到内容变为小写。\n                return String(data[key]).toLowerCase().indexOf(search) > -1\n              })\n            })\n          }\n          return this.tableData\n        }\n      },\n      mounted() {\n        let __this = this\n        this.$http\n        .post('/show_users')\n        .then(response => {\n          console.log(response.data);\n          response.data['list'].forEach(function (item) {\n            __this.tableData.push({id: item['pk'], email: item['fields']['email'],\n              type: to_type(item['fields']['type']), company: item['fields']['company']})\n          })\n        })\n        .catch(function (error) { // 请求失败处理\n          console.log(error);\n        });\n      }\n    }\n  </script>"]}]}