{"remainingRequest":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yukang/Desktop/Django-2.2.5/testdj/hello/src/components/Get_ads.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/src/components/Get_ads.vue","mtime":1574867273617},{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoOiAnJywKICAgICAgY3VycmVudFBhZ2U6IDEsIC8v5Yid5aeL6aG1CiAgICAgIHBhZ2VzaXplOjEwLAogICAgICBmb3JtOiB7CiAgICAgICAgdHlwZTogJycsCiAgICAgICAgaWQgOiAnJwogICAgICB9LAogICAgICBjb2x1bW5zOiBbCiAgICAgICAgewogICAgICAgICAgbGFiZWw6ICLlub/lkYrkuLsiLAogICAgICAgICAgZmllbGQ6ICdiZWxvbmcnLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbGFiZWw6ICfmoIfpopgnLAogICAgICAgICAgZmllbGQ6ICduYW1lJywKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGxhYmVsOiAn5LiA57qn5qCH562+JywKICAgICAgICAgIGZpZWxkOiAnbGFiZWwnLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbGFiZWw6ICflhbPplK7or40nLAogICAgICAgICAgZmllbGQ6ICdzZWNvbmRhcnknLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbGFiZWw6ICfngrnlh7vph48nLAogICAgICAgICAgZmllbGQ6ICdwdicsCiAgICAgICAgfSwKICAgICAgXSwKICAgICAgdGFibGVEYXRhOiBbXQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlU2l6ZUNoYW5nZTogZnVuY3Rpb24gKHNpemUpIHsKICAgICAgICAgICAgdGhpcy5wYWdlc2l6ZSA9IHNpemU7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucGFnZXNpemUpICAvL+avj+mhteS4i+aLieaYvuekuuaVsOaNrgogICAgfSwKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uKGN1cnJlbnRQYWdlKXsKICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IGN1cnJlbnRQYWdlOwogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmN1cnJlbnRQYWdlKSAgLy/ngrnlh7vnrKzlh6DpobUKICAgIH0sCiAgICBoZWFkQ2xhc3MoKSB7CiAgICAgIHJldHVybiAndGV4dC1hbGlnbjogY2VudGVyOycKICAgIH0sCiAgICByb3dDbGFzcyAoKSB7CiAgICAgIHJldHVybiAndGV4dC1hbGlnbjogY2VudGVyJwogICAgfSwKICAgIHNob3cocm93KSB7CiAgICAgIGNvbnNvbGUubG9nKHJvdykKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICB0YWJsZURhdGEgKCkgewogICAgICBjb25zdCBzZWFyY2ggPSB0aGlzLnNlYXJjaAogICAgICBpZiAoc2VhcmNoKSB7CiAgICAgICAgLy8gZmlsdGVyKCkg5pa55rOV5Yib5bu65LiA5Liq5paw55qE5pWw57uE77yM5paw5pWw57uE5Lit55qE5YWD57Sg5piv6YCa6L+H5qOA5p+l5oyH5a6a5pWw57uE5Lit56ym5ZCI5p2h5Lu255qE5omA5pyJ5YWD57Sg44CCCiAgICAgICAgLy8g5rOo5oSP77yaIGZpbHRlcigpIOS4jeS8muWvueepuuaVsOe7hOi/m+ihjOajgOa1i+OAggogICAgICAgIC8vIOazqOaEj++8miBmaWx0ZXIoKSDkuI3kvJrmlLnlj5jljp/lp4vmlbDnu4TjgIIKICAgICAgICByZXR1cm4gdGhpcy50YWJsZURhdGEuZmlsdGVyKGRhdGEgPT4gewogICAgICAgICAgLy8gc29tZSgpIOaWueazleeUqOS6juajgOa1i+aVsOe7hOS4reeahOWFg+e0oOaYr+WQpua7oei2s+aMh+WumuadoeS7tjsKICAgICAgICAgIC8vIHNvbWUoKSDmlrnms5XkvJrkvp3mrKHmiafooYzmlbDnu4TnmoTmr4/kuKrlhYPntKDvvJoKICAgICAgICAgIC8vIOWmguaenOacieS4gOS4quWFg+e0oOa7oei2s+adoeS7tu+8jOWImeihqOi+vuW8j+i/lOWbnnRydWUgLCDliankvZnnmoTlhYPntKDkuI3kvJrlho3miafooYzmo4DmtYs7CiAgICAgICAgICAvLyDlpoLmnpzmsqHmnInmu6HotrPmnaHku7bnmoTlhYPntKDvvIzliJnov5Tlm55mYWxzZeOAggogICAgICAgICAgLy8g5rOo5oSP77yaIHNvbWUoKSDkuI3kvJrlr7nnqbrmlbDnu4Tov5vooYzmo4DmtYvjgIIKICAgICAgICAgIC8vIOazqOaEj++8miBzb21lKCkg5LiN5Lya5pS55Y+Y5Y6f5aeL5pWw57uE44CCCiAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoZGF0YSkuc29tZShrZXkgPT4gewogICAgICAgICAgICAvLyBpbmRleE9mKCkg6L+U5Zue5p+Q5Liq5oyH5a6a55qE5a2X56ym5Zyo5p+Q5Liq5a2X56ym5Liy5Lit6aaW5qyh5Ye6546w55qE5L2N572u77yM5aaC5p6c5rKh5pyJ5om+5Yiw5bCx6L+U5ZueLTHvvJsKICAgICAgICAgICAgLy8g6K+l5pa55rOV5a+55aSn5bCP5YaZ5pWP5oSf77yB5omA5Lul5LmL5YmN6ZyA6KaBdG9Mb3dlckNhc2UoKeaWueazleWwhuaJgOacieafpeivouWIsOWGheWuueWPmOS4uuWwj+WGmeOAggogICAgICAgICAgICByZXR1cm4gU3RyaW5nKGRhdGFba2V5XSkudG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlYXJjaCkgPiAtMQogICAgICAgICAgfSkKICAgICAgICB9KQogICAgICB9CiAgICAgIHJldHVybiB0aGlzLnRhYmxlRGF0YQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIGxldCBfX3RoaXMgPSB0aGlzCiAgICBfX3RoaXMuZm9ybS50eXBlID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndHlwZScpCiAgICBfX3RoaXMuZm9ybS5pZCA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2lkJykKICAgIGxldCB1cmwgPSAnJwogICAgaWYgKF9fdGhpcy5mb3JtLnR5cGUgPT09ICfnrqHnkIblkZgnKXsKICAgICAgY29uc29sZS5sb2coIj8/Pz8/Pz8/IikKICAgICAgdXJsID0gJy9nZXRfYWRzJwogICAgfQogICAgZWxzZSB7CiAgICAgIGNvbnNvbGUubG9nKCIhISEhISEhISIpCiAgICAgIHVybCA9ICcvZ2V0X2Fkc19pZCcKICAgICAgY29uc29sZS5sb2codXJsKQogICAgfQogICAgdGhpcy4kaHR0cAogICAgLnBvc3QodXJsLCBfX3RoaXMuZm9ybSkKICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgY29uc29sZS5sb2codXJsKQogICAgICBjb25zb2xlLmxvZyhfX3RoaXMuZm9ybS50eXBlKTsKICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgIHJlc3BvbnNlLmRhdGFbJ2xpc3QnXS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgX190aGlzLnRhYmxlRGF0YS5wdXNoKHtiZWxvbmc6IGl0ZW1bJ2ZpZWxkcyddWydiZWxvbmcnXSwgbmFtZTogaXRlbVsnZmllbGRzJ11bJ25hbWUnXSwKICAgICAgICAgIGxhYmVsOiBpdGVtWydmaWVsZHMnXVsnbGFiZWwnXSwgcHY6IE51bWJlcihpdGVtWydmaWVsZHMnXVsncHYnXSksIGlkOiBpdGVtWydwayddLAogICAgICAgICAgc2Vjb25kYXJ5OiBpdGVtWydmaWVsZHMnXVsnc2Vjb25kYXJ5MSddKycsICcraXRlbVsnZmllbGRzJ11bJ3NlY29uZGFyeTInXSsnLCAnK2l0ZW1bJ2ZpZWxkcyddWydzZWNvbmRhcnkzJ10sCiAgICAgICAgICB0ZXh0OiBpdGVtWydmaWVsZHMnXVsndGV4dCddCiAgICAgICAgICB9KQogICAgICB9KQogICAgfSkKICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsgLy8g6K+35rGC5aSx6LSl5aSE55CGCiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgIH0pOwogIH0KfQo="},{"version":3,"sources":["Get_ads.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Get_ads.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div style=\"margin:0px auto; margin-top: 60px\">\n      <el-input v-model=\"search\" style=\"display: inline-block;width: 100%\" \n        placeholder=\"请输入搜索内容\">\n      </el-input>\n    <el-table\n      :data=\"tableData.slice((currentPage-1)*pagesize,currentPage*pagesize)\"\n      :cell-style=\"rowClass\"\n      :header-cell-style=\"headClass\"\n      tooltip-effect=\"dark\"\n      style=\"width: 100%; text-align: center\">\n      <el-table-column type=\"expand\">\n        <template slot-scope=\"props\">\n          <span style=\"backgroud-color: #000000\">{{props.row['text']}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        prop=\"id\"\n        label='id'\n        sortable\n        width=\"80\">\n      </el-table-column>\n      <el-table-column\n        prop=\"belong\"\n        label=\"广告主\"\n        sortable\n        width=\"100\">\n      </el-table-column>\n      <el-table-column\n        prop=\"name\"\n        label=\"标题\"\n        sortable\n        width=\"180\">\n      </el-table-column>\n      <el-table-column\n        prop=\"label\"\n        label=\"一级标签\"\n        sortable\n        width=\"180\">\n      </el-table-column>\n      <el-table-column\n        prop=\"secondary\"\n        label=\"关键词\"\n        sortable\n        width=\"180\">\n      </el-table-column>\n      <el-table-column\n        prop=\"pv\"\n        label=\"点击量\"\n        sortable\n        width=\"100\">\n      </el-table-column>\n      <el-table-column\n      fixed=\"right\"\n      label=\"操作\">\n      <template slot-scope=\"scope\">\n        <!-- <el-popover placement=\"top-start\" style=\"margin-right: 20px\" width=\"400\">\n          <span style=\"backgroud-color: #FFFFFF\">{{scope.row['text']}}</span>\n          <el-button slot=\"reference\" type=\"text\" size=\"medium\">查看</el-button>\n        </el-popover> -->\n        <el-button @click=\"delete(scope.row)\" type=\"text\" size=\"medium\">删除</el-button>\n      </template>\n    </el-table-column>\n    </el-table>\n    <!-- <vue-good-table\n      :columns=\"columns\"\n      :rows=\"tableData\"\n      style=\"width: 1000px; text-align: center\"/> -->\n      <el-pagination\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n            :current-page=\"currentPage\"\n            :page-sizes=\"[5, 10, 20, 40]\" \n            :page-size=\"pagesize\"        \n            layout=\"total, sizes, prev, pager, next, jumper\"\n            :total=\"tableData.length\"\n            style=\"float: right\">\n      </el-pagination>\n  </div>\n  </template>\n\n  <script>\n    export default {\n      data() {\n        return {\n          search: '',\n          currentPage: 1, //初始页\n          pagesize:10,\n          form: {\n            type: '',\n            id : ''\n          },\n          columns: [\n            {\n              label: \"广告主\",\n              field: 'belong',\n            },\n            {\n              label: '标题',\n              field: 'name',\n            },\n            {\n              label: '一级标签',\n              field: 'label',\n            },\n            {\n              label: '关键词',\n              field: 'secondary',\n            },\n            {\n              label: '点击量',\n              field: 'pv',\n            },\n          ],\n          tableData: []\n        }\n      },\n      methods: {\n        handleSizeChange: function (size) {\n                this.pagesize = size;\n                console.log(this.pagesize)  //每页下拉显示数据\n        },\n        handleCurrentChange: function(currentPage){\n                this.currentPage = currentPage;\n                console.log(this.currentPage)  //点击第几页\n        },\n        headClass() {\n          return 'text-align: center;'\n        },\n        rowClass () {\n          return 'text-align: center'\n        },\n        show(row) {\n          console.log(row)\n        }\n      },\n      computed: {\n        tableData () {\n          const search = this.search\n          if (search) {\n            // filter() 方法创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素。\n            // 注意： filter() 不会对空数组进行检测。\n            // 注意： filter() 不会改变原始数组。\n            return this.tableData.filter(data => {\n              // some() 方法用于检测数组中的元素是否满足指定条件;\n              // some() 方法会依次执行数组的每个元素：\n              // 如果有一个元素满足条件，则表达式返回true , 剩余的元素不会再执行检测;\n              // 如果没有满足条件的元素，则返回false。\n              // 注意： some() 不会对空数组进行检测。\n              // 注意： some() 不会改变原始数组。\n              return Object.keys(data).some(key => {\n                // indexOf() 返回某个指定的字符在某个字符串中首次出现的位置，如果没有找到就返回-1；\n                // 该方法对大小写敏感！所以之前需要toLowerCase()方法将所有查询到内容变为小写。\n                return String(data[key]).toLowerCase().indexOf(search) > -1\n              })\n            })\n          }\n          return this.tableData\n        }\n      },\n      mounted() {\n        let __this = this\n        __this.form.type = sessionStorage.getItem('type')\n        __this.form.id = sessionStorage.getItem('id')\n        let url = ''\n        if (__this.form.type === '管理员'){\n          console.log(\"????????\")\n          url = '/get_ads'\n        }\n        else {\n          console.log(\"!!!!!!!!\")\n          url = '/get_ads_id'\n          console.log(url)\n        }\n        this.$http\n        .post(url, __this.form)\n        .then(response => {\n          console.log(url)\n          console.log(__this.form.type);\n          console.log(response.data);\n          response.data['list'].forEach(function (item) {\n            __this.tableData.push({belong: item['fields']['belong'], name: item['fields']['name'],\n              label: item['fields']['label'], pv: Number(item['fields']['pv']), id: item['pk'],\n              secondary: item['fields']['secondary1']+', '+item['fields']['secondary2']+', '+item['fields']['secondary3'],\n              text: item['fields']['text']\n              })\n          })\n        })\n        .catch(function (error) { // 请求失败处理\n          console.log(error);\n        });\n      }\n    }\n  </script>\n"]}]}