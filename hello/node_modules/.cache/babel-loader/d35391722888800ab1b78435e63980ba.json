{"remainingRequest":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/babel-loader/lib/index.js!/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yukang/Desktop/Django-2.2.5/testdj/hello/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/src/components/Login.vue","mtime":1574067310636},{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGluamVjdDogWydyZWxvYWQnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogewogICAgICAgIGVtYWlsOiAnJywKICAgICAgICBwYXNzd29yZDogJycsCiAgICAgICAgdHlwZTogJycKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBlbWFpbDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+mCrueuseS4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9IC8vIHt0eXBlOiAnZW1haWwnLCBtZXNzYWdlOifpgq7nrrHmoLzlvI/plJnor68nLCB0cmlnZ2VyOlsnY2hhbmdlJywgJ2JsdXInXX0KICAgICAgICBdLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5a+G56CB5LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHR5cGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfpgInmi6nop5LoibInLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oZm9ybW5hbWUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbZm9ybW5hbWVdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgX3RoaXMuJGh0dHAucG9zdCgnL2NoZWNrJywgX3RoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGFbJ2Vycm9yX251bSddID09IDApIHsKICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5kYXRhWydtc2cnXSwKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhWydkYXRhJ10pOwogICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2VtYWlsJywgcmVzcG9uc2UuZGF0YVsnZGF0YSddWydlbWFpbCddKTsKICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCd0eXBlJywgcmVzcG9uc2UuZGF0YVsnZGF0YSddWyd0eXBlJ10pOwogICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ2lkJywgcmVzcG9uc2UuZGF0YVsnaWQnXSk7IC8vIHRoaXMuJHNldCgpOwoKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhWydpZCddKTsKCiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGFbJ2RhdGEnXVsndHlwZSddID09PSAn566h55CG5ZGYJykgewogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvYWRtaW4nKTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGFbJ2RhdGEnXVsndHlwZSddID09PSAn5bm/5ZGK5Li7JykgewogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvYWR2ZXJ0aXNlcnMnKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvcGxhdGZvcm1zJyk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLmdvKDApOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKHJlc3BvbnNlLmRhdGFbJ21zZyddKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3Igc3VibWl0ISEnKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlc2V0Rm9ybTogZnVuY3Rpb24gcmVzZXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnJlc2V0RmllbGRzKCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy4kaHR0cC5wb3N0KCcvc2hvd191c2VycycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHJldHVybiBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAvLyDor7fmsYLlpLHotKXlpITnkIYKICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div style=\"width: 30%; margin: 0px auto; margin-top: 200px\">\n  <el-form ref=\"form\" status-icon :model=\"form\" :rules=\"rules\" label-width=\"80px\">\n    <el-form-item label=\"邮箱\" prop=\"email\">\n      <el-input v-model=\"form.email\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"密码\" prop=\"password\">\n     <el-input type=\"password\" v-model=\"form.password\" autocomplete=\"off\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"登陆角色\" prop=\"type\">\n      <el-radio-group v-model=\"form.type\">\n        <el-radio label=\"平台用户\"></el-radio>\n        <el-radio label=\"广告主\"></el-radio>\n        <el-radio label=\"管理员\"></el-radio>\n      </el-radio-group>\n    </el-form-item>\n    <el-form-item>\n      <el-button type=\"primary\" @click=\"submitForm('form')\">进入系统</el-button>\n      <el-button @click=\"resetForm('form')\">取消</el-button>\n    </el-form-item>\n  </el-form>\n    </div>\n</template>\n\n<script>\n  export default {\n    inject: ['reload'],\n    data() {\n      return {\n        form: {\n          email: '',\n          password: '',\n          type: ''\n        },\n        rules: {\n          email: [\n            {required:true, message:'邮箱不能为空', trigger:'blur'},\n            // {type: 'email', message:'邮箱格式错误', trigger:['change', 'blur']}\n          ],\n          password: [\n            {required:true, message:'密码不能为空',trigger:'blur'}\n          ],\n          type: [\n            {required:true, message: '选择角色', trigger:'blur'}\n          ]\n        }\n      }\n    },\n    methods: {\n      submitForm(formname) {\n        this.$refs[formname].validate((valid) => {\n          if (valid) {\n            this.$http\n              .post('/check', this.form)\n              .then(response => {\n                if (response.data['error_num'] == 0){\n                  this.$message({\n                  message: response.data['msg'],\n                  type: 'success'\n                  })\n                  console.log(response.data['data'])\n                  sessionStorage.setItem('email', response.data['data']['email'])\n                  sessionStorage.setItem('type', response.data['data']['type'])\n                  sessionStorage.setItem('id', response.data['id'])\n                  // this.$set();\n                  console.log(response.data['id'])\n                  if (response.data['data']['type'] === '管理员'){\n                    this.$router.push('/admin');\n                  }\n                  else if (response.data['data']['type'] === '广告主'){\n                    this.$router.push('/advertisers');\n                  }\n                  else {\n                    this.$router.push('/platforms');\n                  }\n                  this.$router.go(0)\n                }\n                else{\n                  this.$message.error(response.data['msg'])\n                }\n\n              })\n              .catch(function (error) {\n                console.log(error)\n              })\n          } else {\n            console.log('error submit!!');\n            return false;\n          }\n        });\n      },\n    resetForm(formName) {\n        this.$refs[formName].resetFields();\n      }\n    },\n    mounted() {\n      this.$http\n      .post('/show_users')\n      .then(response => (console.log(response.data)))\n      .catch(function (error) { // 请求失败处理\n        console.log(error);\n      });\n    }\n  }\n</script>\n"],"sourceRoot":"src/components"}]}