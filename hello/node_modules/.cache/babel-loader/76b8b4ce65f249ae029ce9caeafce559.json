{"remainingRequest":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/babel-loader/lib/index.js!/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yukang/Desktop/Django-2.2.5/testdj/hello/src/components/Label.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/src/components/Label.vue","mtime":1574838507444},{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmZ1bmN0aW9uIHRvX3R5cGUodCwgYSkgewogIGlmIChhID09IDEpIHJldHVybiAnc3VjY2Vzcyc7ZWxzZSB7CiAgICBpZiAodCA9PSAxKSByZXR1cm4gJ2Rhbmdlcic7ZWxzZSByZXR1cm4gJ3dhcm5pbmcnOwogIH0KfQoKZXhwb3J0IGRlZmF1bHQgewogIGluamVjdDogWydyZWxvYWQnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybTogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHRyYWluZWQ6IDAsCiAgICAgICAgYXZhaWxhYmxlOiAwCiAgICAgIH0sCiAgICAgIGR5bmFtaWNUYWdzOiBbXSwKICAgICAgaW5wdXRWaXNpYmxlOiBmYWxzZSwKICAgICAgaW5wdXRWYWx1ZTogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVDbG9zZTogZnVuY3Rpb24gaGFuZGxlQ2xvc2UodGFnKSB7CiAgICAgIHRoaXMuZHluYW1pY1RhZ3Muc3BsaWNlKHRoaXMuZHluYW1pY1RhZ3MuaW5kZXhPZih0YWcpLCAxKTsKICAgIH0sCiAgICBzaG93SW5wdXQ6IGZ1bmN0aW9uIHNob3dJbnB1dCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuaW5wdXRWaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKF8pIHsKICAgICAgICBfdGhpcy4kcmVmcy5zYXZlVGFnSW5wdXQuJHJlZnMuaW5wdXQuZm9jdXMoKTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlSW5wdXRDb25maXJtOiBmdW5jdGlvbiBoYW5kbGVJbnB1dENvbmZpcm0oKSB7CiAgICAgIHZhciBpbnB1dFZhbHVlID0gdGhpcy5pbnB1dFZhbHVlOwogICAgICB0aGlzLmZvcm0ubmFtZSA9IGlucHV0VmFsdWU7CgogICAgICBpZiAoaW5wdXRWYWx1ZSkgewogICAgICAgIHRoaXMuJGh0dHAucG9zdCgnL2FkZF9sYWJlbCcsIHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIC8vIOivt+axguWksei0peWkhOeQhgogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuZHluYW1pY1RhZ3MucHVzaCh7CiAgICAgICAgICBuYW1lOiBpbnB1dFZhbHVlLAogICAgICAgICAgdHlwZTogdG9fdHlwZSh0aGlzLmZvcm0udHJhaW5lZCwgdGhpcy5mb3JtLmF2YWlsYWJsZSkKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdGhpcy5pbnB1dFZpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy5pbnB1dFZhbHVlID0gJyc7CiAgICB9LAogICAgdXBkYXRlX3VzZTogZnVuY3Rpb24gdXBkYXRlX3VzZShuYW1lLCBzdGF0ZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciB1cGRhdGUgPSB7CiAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICBhdmFpbGFibGU6IHN0YXRlCiAgICAgIH07CiAgICAgIHRoaXMuJGh0dHAucG9zdCgnL3VwZGF0ZV91c2UnLCB1cGRhdGUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CgogICAgICAgIF90aGlzMi5yZWxvYWQoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX190aGlzID0gdGhpczsKCiAgICB0aGlzLiRodHRwLnBvc3QoJy9zaG93X2xhYmVscycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGFbJ2xpc3QnXSk7CiAgICAgIHJlc3BvbnNlLmRhdGFbJ2xpc3QnXS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgX190aGlzLmR5bmFtaWNUYWdzLnB1c2goewogICAgICAgICAgbmFtZTogaXRlbVsnZmllbGRzJ11bJ25hbWUnXSwKICAgICAgICAgIHR5cGU6IHRvX3R5cGUoaXRlbVsnZmllbGRzJ11bJ3RyYWluZWQnXSwgaXRlbVsnZmllbGRzJ11bJ2F2YWlsYWJsZSddKQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAvLyDor7fmsYLlpLHotKXlpITnkIYKICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["Label.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div style=\"margin:0px auto; margin-top: 60px\">\n    <span style=\"color: #409EFF; font-size: 20px\">一级标签页</span>\n  <el-form label-position=\"top\">\n    <el-form-item></el-form-item>\n    <el-form-item label=\"标签说明\">\n      <el-tag type=\"success\">可用标签</el-tag>\n      <el-tag type=\"danger\">禁用标签</el-tag>\n      <el-tag type=\"warning\">未训练标签</el-tag>\n    </el-form-item>\n    <el-form-item label=\"标签库\">\n      <el-popover placement=\"top\" trigger=\"hover\"\n                  style=\"margin-right: 10px\"\n                  :key=\"tag.name\"\n                  :type=\"tag.type\"\n                  v-for=\"tag in dynamicTags\">\n        <el-form label-position=\"top\">\n          <el-form-item label=\"上传语料\"></el-form-item>\n          <el-upload\n            class=\"upload-demo\"\n            ref=\"upload\"\n            action=\"https://jsonplaceholder.typicode.com/posts/\"\n            :auto-upload=\"false\">\n            <el-button slot=\"trigger\" size=\"small\" type=\"primary\">选取文件</el-button>\n            <el-button style=\"margin-left: 10px;\" size=\"small\" type=\"success\">上传到服务器</el-button>\n            <!--<div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png文件，且不超过500kb</div>-->\n          </el-upload>\n          <el-form-item label=\"状态设置\">\n            <el-button v-if=\"tag.type=='success'\" size=\"small\" type=\"danger\" @click=\"update_use(tag.name, 0)\">禁用</el-button>\n            <el-button v-if=\"tag.type=='danger'\" size=\"small\" type=\"success\" @click=\"update_use(tag.name, 1)\">启用</el-button>\n            <span v-if=\"tag.type=='warning'\" style=\"color: #909399\">标签不可用</span>\n          </el-form-item>\n        </el-form>\n         <el-tag\n            slot=\"reference\"\n            :key=\"tag.name\"\n            :type=\"tag.type\"\n            closable\n            :disable-transitions=\"false\"\n            @close=\"handleClose(tag)\">\n            {{tag.name}}\n          </el-tag>\n      </el-popover>\n\n    </el-form-item>\n    <el-form-item label=\"新增标签\">\n      <el-input\n      class=\"input-new-tag\"\n      v-if=\"inputVisible\"\n      v-model=\"inputValue\"\n      ref=\"saveTagInput\"\n      size=\"small\"\n      @keyup.enter.native=\"handleInputConfirm\"\n      @blur=\"handleInputConfirm\"\n    >\n    </el-input>\n    <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput\" type=\"primary\">+ New Tag</el-button>\n    </el-form-item>\n\n  </el-form>\n  </div>\n\n</template>\n\n<style>\n  .el-tag + .el-tag {\n    margin-left: 10px;\n  }\n  .button-new-tag {\n    margin-left: 10px;\n    height: 32px;\n    line-height: 30px;\n    padding-top: 0;\n    padding-bottom: 0;\n  }\n  .input-new-tag {\n    width: 90px;\n    margin-left: 10px;\n    vertical-align: bottom;\n  }\n</style>\n\n<script>\n  function to_type(t, a) {\n    if (a == 1)\n      return 'success';\n    else {\n      if (t == 1)\n        return 'danger';\n      else\n        return 'warning';\n    }\n  }\n  export default {\n    inject: ['reload'],\n    data() {\n      return {\n        form: {\n          name: '',\n          trained: 0,\n          available: 0\n        },\n        dynamicTags: [],\n        inputVisible: false,\n        inputValue: ''\n      };\n    },\n    methods: {\n      handleClose(tag) {\n        this.dynamicTags.splice(this.dynamicTags.indexOf(tag), 1);\n      },\n\n      showInput() {\n        this.inputVisible = true;\n        this.$nextTick(_ => {\n          this.$refs.saveTagInput.$refs.input.focus();\n        });\n      },\n\n      handleInputConfirm() {\n        let inputValue = this.inputValue;\n        this.form.name = inputValue;\n        if (inputValue) {\n          this.$http\n            .post('/add_label', this.form)\n            .then(response => (console.log(response.data)))\n            .catch(function (error) { // 请求失败处理\n              console.log(error);\n            });\n          this.dynamicTags.push({name: inputValue, type: to_type(this.form.trained, this.form.available)});\n        }\n        this.inputVisible = false;\n        this.inputValue = '';\n      },\n\n      update_use(name, state) {\n        let update = {name: name, available: state};\n        this.$http\n          .post('/update_use', update)\n          .then(response => {\n            console.log(response.data);\n            this.reload();\n          })\n          .catch(function (error) {\n            console.log(error)\n          })\n      },\n    },\n\n    mounted() {\n      let __this = this\n      this.$http\n      .post('/show_labels')\n      .then(response => {\n        console.log(response.data['list']);\n        response.data['list'].forEach(function (item) {\n          __this.dynamicTags.push({name: item['fields']['name'],\n            type: to_type(item['fields']['trained'], item['fields']['available'])})\n        })\n      })\n      .catch(function (error) { // 请求失败处理\n        console.log(error);\n      });\n    }\n  }\n</script>\n"],"sourceRoot":"src/components"}]}