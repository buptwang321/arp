{"remainingRequest":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/babel-loader/lib/index.js!/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yukang/Desktop/Django-2.2.5/testdj/hello/src/components/Add_ads.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/src/components/Add_ads.vue","mtime":1575468766495},{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yukang/Desktop/Django-2.2.5/testdj/hello/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvcHRpb25zOiBbXSwKICAgICAgZm9ybTogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHRleHQ6ICcnLAogICAgICAgIGxhYmVsOiAnJywKICAgICAgICBiZWxvbmc6IDAsCiAgICAgICAgc2Vjb25kYXJ5MTogJycsCiAgICAgICAgc2Vjb25kYXJ5MjogJycsCiAgICAgICAgc2Vjb25kYXJ5MzogJycsCiAgICAgICAgc2Vjb25kYXJ5OiAnJwogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIG5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfmoIfpopjkuI3og73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSAvLyB7dHlwZTogJ2VtYWlsJywgbWVzc2FnZTon6YKu566x5qC85byP6ZSZ6K+vJywgdHJpZ2dlcjpbJ2NoYW5nZScsICdibHVyJ119CiAgICAgICAgXSwKICAgICAgICB0ZXh0OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5paH5pys5LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dIC8vIGxhYmVsOiBbCiAgICAgICAgLy8gICB7cmVxdWlyZWQ6dHJ1ZSwgbWVzc2FnZTogJ+mAieaLqeinkuiJsicsIHRyaWdnZXI6J2JsdXInfQogICAgICAgIC8vIF0KCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKGZvcm1uYW1lKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzW2Zvcm1uYW1lXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHZhciByZXMgPSBfdGhpcy5mb3JtWydzZWNvbmRhcnknXS5zcGxpdCgnLCAnKTsKCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgX3RoaXMuZm9ybVsnc2Vjb25kYXJ5MSddID0gcmVzWzBdOwogICAgICAgICAgX3RoaXMuZm9ybVsnc2Vjb25kYXJ5MiddID0gcmVzWzFdOwogICAgICAgICAgX3RoaXMuZm9ybVsnc2Vjb25kYXJ5MyddID0gcmVzWzJdOwoKICAgICAgICAgIF90aGlzLiRodHRwLnBvc3QoJy9hZGRfYWRzJywgX3RoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGFbJ2Vycm9yX251bSddID09PSAwKSB7CiAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UuZGF0YVsnbXNnJ10sCiAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNwb25zZS5kYXRhWydtc2cnXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIHN1Ym1pdCEhJyk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICByZXNldEZvcm06IGZ1bmN0aW9uIHJlc2V0Rm9ybShmb3JtTmFtZSkgewogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS5yZXNldEZpZWxkcygpOwogICAgfSwKICAgIGlkZW50aWZ5OiBmdW5jdGlvbiBpZGVudGlmeSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZyh0aGlzLmZvcm0pOwogICAgICB0aGlzLiRodHRwLnBvc3QoJy9jbm4nLCB0aGlzLmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgX3RoaXMyLmZvcm1bJ2xhYmVsJ10gPSByZXNwb25zZS5kYXRhWydsYWJlbCddOwogICAgICAgIF90aGlzMi5mb3JtWydzZWNvbmRhcnknXSA9IHJlc3BvbnNlLmRhdGFbJ3NlY29uZGFyeSddOwoKICAgICAgICB2YXIgcmVzID0gX3RoaXMyLmZvcm1bJ3NlY29uZGFyeSddLnNwbGl0KCcsICcpOwoKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIF90aGlzMi5mb3JtWydzZWNvbmRhcnkxJ10gPSByZXNbMF07CiAgICAgICAgX3RoaXMyLmZvcm1bJ3NlY29uZGFyeTInXSA9IHJlc1sxXTsKICAgICAgICBfdGhpczIuZm9ybVsnc2Vjb25kYXJ5MyddID0gcmVzWzJdOwogICAgICAgIF90aGlzMi5mb3JtWydiZWxvbmcnXSA9IE51bWJlcihzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdpZCcpKTsgLy8gdGhpcy5yZWxvYWQoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX190aGlzID0gdGhpczsKCiAgICB0aGlzLiRodHRwLnBvc3QoJy9zaG93X2xhYmVscycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGFbJ2xpc3QnXSk7CiAgICAgIHJlc3BvbnNlLmRhdGFbJ2xpc3QnXS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgX190aGlzLm9wdGlvbnMucHVzaCh7CiAgICAgICAgICBsYWJlbDogaXRlbVsnZmllbGRzJ11bJ25hbWUnXSwKICAgICAgICAgIHZhbHVlOiBpdGVtWydmaWVsZHMnXVsnaWQnXQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAvLyDor7fmsYLlpLHotKXlpITnkIYKICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["Add_ads.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div style=\"margin:0px auto; margin-top: 60px\">\n    <span style=\"color: #409EFF; font-size: 20px\">发布广告</span>\n    <el-form ref=\"form\" status-icon label-width=\"80px\" :model=\"form\" :rules=\"rules\">\n      <el-form-item></el-form-item>\n    <el-form-item label=\"广告标题\" prop=\"name\">\n      <el-input v-model=\"form.name\" style=\"width: 600px\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"广告文本\" prop=\"text\">\n     <el-input type=\"textarea\" rows=\"5\" v-model=\"form.text\" ></el-input>\n    </el-form-item>\n    <el-form-item label=\"一级标签\" prop=\"label\">\n      <el-select v-model=\"form.label\" style=\"width: 100%\" placeholder=\"请自主选择或自动识别\">\n        <el-option v-for=\"item in options\"\n              :key=\"item.label\"\n              :label=\"item.label\"\n              :value=\"item.label\">\n        </el-option>\n      </el-select>\n    </el-form-item>\n    <el-form-item label='关键词' prop=\"secondary\">\n      <el-input v-model=\"form.secondary\"></el-input>\n    </el-form-item>\n    <el-form-item>\n      <el-button type=\"primary\" @click=\"submitForm('form')\">添加</el-button>\n      <el-button @click=\"identify\">自动识别</el-button>\n      <el-button @click=\"resetForm('form')\">取消</el-button>\n    </el-form-item>\n  </el-form>\n  </div>\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        options: [],\n        form: {\n          name: '',\n          text: '',\n          label: '',\n          belong: 0,\n          secondary1: '',\n          secondary2: '',\n          secondary3: '',\n          secondary: ''\n        },\n        rules: {\n          name: [\n            {required:true, message:'标题不能为空', trigger:'blur'},\n            // {type: 'email', message:'邮箱格式错误', trigger:['change', 'blur']}\n          ],\n          text: [\n            {required:true, message:'文本不能为空',trigger:'blur'}\n          ],\n          // label: [\n          //   {required:true, message: '选择角色', trigger:'blur'}\n          // ]\n        }\n      }\n    },\n    methods: {\n      submitForm(formname) {\n        this.$refs[formname].validate((valid) => {\n          if (valid) {\n            let res = this.form['secondary'].split(', ')\n            console.log(res)\n            this.form['secondary1'] = res[0] \n            this.form['secondary2'] = res[1]\n            this.form['secondary3'] = res[2]\n            this.$http\n              .post('/add_ads', this.form)\n              .then(response => {\n                if (response.data['error_num'] === 0){\n                  this.$message({\n                  message: response.data['msg'],\n                  type: 'success'\n                  })\n                }\n                else{\n                  this.$message.error(response.data['msg'])\n                }\n              })\n              .catch(function (error) {\n                console.log(error)\n              })\n          } else {\n            console.log('error submit!!');\n            return false;\n          }\n        });\n      },\n      resetForm(formName) {\n          this.$refs[formName].resetFields();\n      },\n      identify() {\n        console.log(this.form);\n        this.$http\n            .post('/cnn', this.form)\n            .then(response => {\n              console.log(response.data);\n              this.form['label'] = response.data['label']\n              this.form['secondary'] = response.data['secondary']\n              let res = this.form['secondary'].split(', ')\n              console.log(res)\n              this.form['secondary1'] = res[0] \n              this.form['secondary2'] = res[1]\n              this.form['secondary3'] = res[2]\n              this.form['belong'] = Number(sessionStorage.getItem('id'))\n              // this.reload();\n            })\n            .catch(function (error) {\n              console.log(error)\n            })\n      },\n    },\n    mounted() {\n      let __this = this\n      this.$http\n      .post('/show_labels')\n      .then(response => {\n        console.log(response.data['list']);\n        response.data['list'].forEach(function (item) {\n          __this.options.push({label: item['fields']['name'],\n            value: item['fields']['id']})\n        })\n      })\n      .catch(function (error) { // 请求失败处理\n        console.log(error);\n      });\n    }\n  }\n</script>\n"],"sourceRoot":"src/components"}]}